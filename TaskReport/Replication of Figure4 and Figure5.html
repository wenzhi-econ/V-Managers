<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>1&period; Task Description</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="1-task-description">1. Task Description</h1>
<ol>
<li>Replicate Figure 4 and 5 in the paper.</li>
</ol>
<h1 id="2-figure-4">2. Figure 4</h1>
<h2 id="21-the-original-regression">2.1. The Original Regression</h2>
<p>The original regression uses only 6 month periods: Month -1, -2, -3, and Month -22, -23, -24. In contrast, it uses all four treatment groups. In particular, relevant Stata codes are</p>
<pre><code>foreach var in  TransferSJC TransferSJSameMSameFuncC TransferSJDiffMSameFuncC TransferFuncC {
	reghdfe   `var' `Label'LHPost  `Label'HLPost  `Label'HHPost `Label'LLPost if (WL2==1 ) &amp; (  KEi ==-1 | KEi ==-2 | KEi ==-3  | KEi ==22 | KEi ==23 | KEi ==24 ) , a(  IDlse YearMonth ) vce(cluster IDlseMHR)

    xlincom  (`Label'LHPost  - `Label'LLPost ) (`Label'HLPost  - `Label'HHPost) , level(95) post
    est store  `var'

}
</code></pre>
<h2 id="22-my-regression">2.2. My Regression</h2>
<p>To keep consistent with Figure 3, <strong>I use only two treatment groups: LtoL and LtoH (and also all control workers), but all periods</strong>. In particular, my relevant Stata codes are</p>
<pre><code>foreach var in TransferSJC TransferSJSameMSameFuncC TransferSJDiffMSameFuncC TransferFuncC {
    reghdfe `var' ${events_LH_minus_LL} ///
        if ((Mngr_both_WL2==1 &amp; (FT_LtoL==1 | FT_LtoH==1)) | (Never_ChangeM==1)) ///
        , absorb(IDlse YearMonth)  vce(cluster IDlseMHR) 
    
    *&amp;&amp; Quarter 8th estimate = the average of Month 22, Month 23, and Month 24 estimates
    xlincom (((FT_LtoH_X_Post22 - FT_LtoL_X_Post22) + (FT_LtoH_X_Post23 - FT_LtoL_X_Post23) + (FT_LtoH_X_Post24 - FT_LtoL_X_Post24))/3), level(95) post

    eststo `var'
}
</code></pre>
<p>where the macro <code>${events_LH_minus_LL}</code> stores macros <code>FT_LtoL_X_Pre_Before36 FT_LtoL_X_Pre36 ... FT_LtoL_X_Pre4 FT_LtoL_X_Post0 FT_LtoL_X_Post1 ... FT_LtoL_X_Post84 FT_LtoL_X_Pre_After84</code> and <code>FT_LtoH_X_Pre_Before36 FT_LtoH_X_Pre36 ... FT_LtoH_X_Pre4 FT_LtoH_X_Post0 FT_LtoH_X_Post1 ... FT_LtoH_X_Post84 FT_LtoH_X_Pre_After84</code>. Again, to keep consistent with Figure 3, <strong>I omit Month -1, -2, and -3 as reference groups</strong>, even though we don't need a whole series of quarter aggregated estimates.</p>
<h2 id="23-results">2.3. Results</h2>
<p><img src="file:///e:\__RA\02MANAGERS\Paper Managers\DoFiles\TaskReport\Figure4&amp;5_Summary\Figure4_FT_Gains_TransferSJCDecomp.png" alt=""></p>
<h1 id="3-figure-5">3. Figure 5</h1>
<h2 id="31-the-original-regression">3.1. The Original Regression</h2>
<p>I think we run the same regression, but I don't think the original codes aggregate monthly estimates to quarterly estimates. In particular, relevant codes are</p>
<pre><code>xlincom (L36ELH - L36ELL) (L60ELH - L60ELL) (L84ELH - L84ELL) (L24ELH - L24ELL) , level(95) post
est store LogPay
 
coefplot  ///
    (LogPay, keep(lc_1) rename(  lc_1  = &quot;12 quarters&quot;) ciopts(lwidth(2 ..) lcolor(ebblue)))  ///
    (LogPay, keep(lc_2) rename(  lc_2  = &quot;20 quarters&quot;) ciopts(lwidth(2 ..) lcolor(ebblue)))  ///
    (LogPay, keep(lc_3) rename(  lc_3  = &quot;28 quarters&quot;) ciopts(lwidth(2 ..) lcolor(ebblue)) )  ///
    , ciopts(lwidth(2 ..))  msymbol(d) mcolor(white) aspect(0.4) legend(off) levels(95)  ///
    title(&quot;`lab'&quot;, size(medsmall))  xline(0, lpattern(dash))  xlabel(0(0.1)0.4) xscale(range(0 0.4))
</code></pre>
<h2 id="32-my-codes">3.2. My Codes</h2>
<p>Again, to keep consistent with Figure 3, I use <strong>I use only two treatment groups: LtoL and LtoH (and also all control workers), but all periods</strong>. Unlike the original codes, <strong>I report the average of the three corresponding monthly estimates</strong>. For example, for panel A,</p>
<pre><code>
reghdfe LogPayBonus ${events_LH_minus_LL} ///
    if ((Mngr_both_WL2==1 &amp; (FT_LtoL==1 | FT_LtoH==1)) | (Never_ChangeM==1)) ///
    , absorb(IDlse YearMonth)  vce(cluster IDlseMHR) 

*&amp;&amp; Quarter 12 estimate is the average of Month 34, Month 35, and Month 36 estimates
*&amp;&amp; Quarter 20 estimate is the average of Month 58, Month 59, and Month 60 estimates
*&amp;&amp; Quarter 28 estimate is the average of Month 82, Month 83, and Month 84 estimates

xlincom ///
    (((FT_LtoH_X_Post34 - FT_LtoL_X_Post34) + (FT_LtoH_X_Post35 - FT_LtoL_X_Post35) + (FT_LtoH_X_Post36 - FT_LtoL_X_Post36))/3) ///
    (((FT_LtoH_X_Post58 - FT_LtoL_X_Post58) + (FT_LtoH_X_Post59 - FT_LtoL_X_Post59) + (FT_LtoH_X_Post60 - FT_LtoL_X_Post60))/3) ///
    (((FT_LtoH_X_Post82 - FT_LtoL_X_Post82) + (FT_LtoH_X_Post83 - FT_LtoL_X_Post83) + (FT_LtoH_X_Post84 - FT_LtoL_X_Post84))/3) ///
    , level(95) post

eststo LogPayBonus

coefplot  ///
    (LogPayBonus, keep(lc_1) rename(lc_1 = &quot;12 quarters&quot;) ciopts(lwidth(2 ..) lcolor(ebblue)))  ///
    (LogPayBonus, keep(lc_2) rename(lc_2 = &quot;20 quarters&quot;) ciopts(lwidth(2 ..) lcolor(ebblue)))  ///
    (LogPayBonus, keep(lc_3) rename(lc_3 = &quot;28 quarters&quot;) ciopts(lwidth(2 ..) lcolor(ebblue)))  ///
    , ciopts(lwidth(2 ..)) levels(95) msymbol(d) mcolor(white) legend(off)  ///
    title(&quot;Pay + bonus (logs)&quot;, size(vlarge)) ///
    graphregion(margin(medium)) plotregion(margin(medium)) xsize(5) ysize(2) ///
    xline(0, lpattern(dash)) ylabel(, labsize(vlarge)) xlabel(, labsize(vlarge))
</code></pre>
<h2 id="33-results">3.3. Results</h2>
<p><strong>Current results are very different from the original ones.</strong> I guess it is due to quarter aggregation issue, since we are essentially reporting different estimates.</p>
<p><img src="file:///e:\__RA\02MANAGERS\Paper Managers\DoFiles\TaskReport\Figure4&amp;5_Summary\Figure5A_FT_Gains_LogPayBonus.png" alt="">
<img src="file:///e:\__RA\02MANAGERS\Paper Managers\DoFiles\TaskReport\Figure4&amp;5_Summary\Figure5B_FT_Gains_LogPay.png" alt="">
<img src="file:///e:\__RA\02MANAGERS\Paper Managers\DoFiles\TaskReport\Figure4&amp;5_Summary\Figure5C_FT_Gains_LogBonus.png" alt="">
<img src="file:///e:\__RA\02MANAGERS\Paper Managers\DoFiles\TaskReport\Figure4&amp;5_Summary\Figure5D_FT_Gains_PromWLC.png" alt=""></p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>